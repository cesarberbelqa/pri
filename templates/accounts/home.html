{% extends 'base.html' %}
{% load static %}
{% block content %}

<!-- Seção Inicial (Hero) -->
<section id="inicio" class="text-center bg-light p-5">
  <div class="container">
    <img src="{% static 'imgs/peSemFundo.png' %}" alt="Logo Pés" style="max-height: 100px;margin-bottom: -35px;">
    <h1 class="display-4" style="font-family: 'Allison', cursive;font-weight: 400;font-style: normal;font-size: 120px;">Priscila Arantes</h1>
    <p class="lead">Enfermeira | Podóloga</p>
    <hr class="my-4">
    <p class="h4">Pedicure Terapêutica com Atendimento Domiciliar</p>
    <p>Cuidados especializados para a saúde dos seus pés, no conforto da sua casa.</p>
    <a class="btn btn-primary btn-lg mt-3" href="#contato" role="button">
      <i class="fab fa-whatsapp"></i> Agendar Atendimento
    </a>
  </div>
</section>

<!-- Seção de Estatísticas com Contador Dinâmico -->
<section id="estatisticas" class="stats-section bg-white">
  <div class="container">
    <h2 class="text-center mb-5">Saúde e Bem-Estar em Números</h2>
    <div class="row text-center">
      
      <div class="col-md-3 col-sm-6 mb-4">
        <div class="counter-box">
          <i class="fas fa-hand-holding-medical counter-icon"></i>
          <span class="counter-value" data-target="1500">0</span><span>+</span>
          <p class="counter-title">Unhas Desencravadas Tratadas</p>
        </div>
      </div>
      
      <div class="col-md-3 col-sm-6 mb-4">
        <div class="counter-box">
          <i class="fas fa-shoe-prints counter-icon"></i>
          <span class="counter-value" data-target="2200">0</span><span>+</span>
          <p class="counter-title">Calos e Calosidades Removidos</p>
        </div>
      </div>

      <div class="col-md-3 col-sm-6 mb-4">
        <div class="counter-box">
          <i class="fas fa-tint counter-icon"></i>
          <span class="counter-value" data-target="1800">0</span><span>+</span>
          <p class="counter-title">Pés Hidratados e Recuperados</p>
        </div>
      </div>

      <div class="col-md-3 col-sm-6 mb-4">
        <div class="counter-box">
          <i class="fas fa-smile counter-icon"></i>
          <span class="counter-value" data-target="900">0</span><span>+</span>
          <p class="counter-title">Clientes Satisfeitos</p>
        </div>
      </div>

    </div>
  </div>
</section>

<!-- Seção de Serviços com Carrossel -->
<section id="servicos" class="py-5 bg-light">
  <div class="container">
    <h2 class="text-center mb-5">Serviços Podológicos</h2>
    
    <div id="servicosCarousel" class="carousel slide" data-bs-ride="carousel">
      <div class="carousel-inner text-center p-4">

        <!-- Item 1: Calos -->
        <div class="carousel-item active">
          <i class="fas fa-shoe-prints fa-3x text-primary mb-3"></i>
          <h3 class="mb-3">Tratamento de Calos e Calosidades</h3>
          <p class="w-75 mx-auto">Removemos calos e calosidades de forma segura e indolor. Este tratamento alivia a dor causada pela pressão, devolvendo o conforto ao caminhar e prevenindo o reaparecimento com orientações de cuidado.</p>
        </div>

        <!-- Item 2: Unhas Encravadas -->
        <div class="carousel-item">
          <i class="fas fa-hand-holding-medical fa-3x text-primary mb-3"></i>
          <h3 class="mb-3">Unhas Encravadas (Onicocriptose)</h3>
          <p class="w-75 mx-auto">Realizamos o tratamento de unhas encravadas com técnicas profissionais para aliviar a dor e a inflamação imediatamente. O procedimento é feito com todo o cuidado para corrigir a curvatura da unha e evitar futuras complicações.</p>
        </div>

        <!-- Item 3: Hidratação e Fissuras -->
        <div class="carousel-item">
          <i class="fas fa-tint fa-3x text-primary mb-3"></i>
          <h3 class="mb-3">Hidratação e Fissuras no Calcanhar</h3>
          <p class="w-75 mx-auto">Tratamento intensivo para pés ressecados e calcanhares com fissuras. Utilizamos produtos específicos e técnicas de hidratação profunda que restauram a elasticidade da pele, proporcionando alívio e uma aparência saudável.</p>
        </div>

        <!-- Item 4: Micoses -->
        <div class="carousel-item">
          <i class="fas fa-shield-virus fa-3x text-primary mb-3"></i>
          <h3 class="mb-3">Tratamento de Micoses</h3>
          <p class="w-75 mx-auto">Oferecemos tratamento especializado para micoses de unha (onicomicose) e de pele. O procedimento visa eliminar o fungo causador da infecção, devolvendo a saúde e a estética das unhas e da pele dos seus pés.</p>
        </div>

        <!-- Item 5: Pés Diabéticos -->
        <div class="carousel-item">
          <i class="fas fa-heartbeat fa-3x text-primary mb-3"></i>
          <h3 class="mb-3">Avaliação e Cuidados com Pés Diabéticos</h3>
          <p class="w-75 mx-auto">Como enfermeira, ofereço uma avaliação minuciosa e cuidados preventivos essenciais para pés diabéticos. O objetivo é prevenir feridas, infecções e complicações graves, mantendo a integridade e saúde dos pés.</p>
        </div>

        <!-- Item 6: Laserterapia -->
        <div class="carousel-item">
          <i class="fas fa-magic fa-3x text-primary mb-3"></i>
          <h3 class="mb-3">Tratamento com Laserterapia</h3>
          <p class="w-75 mx-auto">Utilizamos a laserterapia de baixa intensidade, uma tecnologia moderna e eficaz para acelerar a cicatrização, reduzir a dor e a inflamação em casos de unhas encravadas, fissuras, micoses e outras patologias.</p>
        </div>

      </div>
      <button class="carousel-control-prev" type="button" data-bs-target="#servicosCarousel" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true" style="background-color: rgba(0,0,0,0.3); border-radius: 50%;"></span>
        <span class="visually-hidden">Previous</span>
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#servicosCarousel" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true" style="background-color: rgba(0,0,0,0.3); border-radius: 50%;"></span>
        <span class="visually-hidden">Next</span>
      </button>
    </div>
  </div>
</section>
{% if testimonials %}
<section id="testimonials" class="py-5 bg-light">
    <div class="container">
        <h2 class="text-center mb-5">What Our Clients Say</h2>
        <div class="row">
            {% for testimonial in testimonials %}
            <div class="col-md-4 mb-4">
                <div class="card h-100 text-center shadow-sm">
                    <div class="card-body">
                        <i class="fas fa-quote-left fa-2x text-primary mb-3"></i>
                        <blockquote class="blockquote mb-0">
                            <p>"{{ testimonial.body }}"</p>
                            <footer class="blockquote-footer mt-3">{{ testimonial.name }}</footer>
                        </blockquote>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        <div class="text-center mt-4">
            <a href="{% url 'testimonials:create' %}" class="btn btn-outline-primary">Leave Your Own Testimonial</a>
        </div>
    </div>
</section>
{% endif %}
<!-- Seção de Contato -->
<section id="contato" class="py-5">
  <div class="container text-center">
    <h2>Agende o seu Atendimento Domiciliar</h2>
    <p class="lead">Entre em contato para marcar uma avaliação e cuidar da saúde dos seus pés.</p>
    <div class="mt-4">
      <a href="https://wa.me/351910355212" target="_blank" class="btn btn-success btn-lg mx-2">
        <i class="fab fa-whatsapp"></i> Chamar no WhatsApp
      </a>
      <a href="tel:+351910355212" class="btn btn-info btn-lg mx-2 text-white">
        <i class="fas fa-phone"></i> Ligar: 910 355 212
      </a>
    </div>
  </div>
</section>
{% endblock %}


{% block scripts %}
<script>
document.addEventListener("DOMContentLoaded", function() {
  const counters = document.querySelectorAll('.counter-value');
  const speed = 200; // A velocidade da animação (ajuste conforme necessário)

  const startCounter = (counter) => {
    const target = +counter.getAttribute('data-target');
    let count = 0;
    
    // Calcula o incremento para que todos terminem em tempo semelhante
    const increment = target / speed;

    const updateCount = () => {
      if (count < target) {
        count += increment;
        counter.innerText = Math.ceil(count);
        setTimeout(updateCount, 1);
      } else {
        counter.innerText = target;
      }
    };
    updateCount();
  };

  // Usando Intersection Observer para iniciar a animação apenas quando visível
  const observer = new IntersectionObserver((entries, observer) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        startCounter(entry.target);
        observer.unobserve(entry.target); // Anima apenas uma vez
      }
    });
  }, {
    threshold: 0.5 // Inicia quando 50% do elemento está visível
  });

  counters.forEach(counter => {
    observer.observe(counter);
  });
});
</script>
{% endblock %}